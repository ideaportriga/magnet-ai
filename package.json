{
  "name": "magnet-ai",
  "version": "0.2.0",
  "license": "Apache-2.0",
  "private": true,
  "scripts": {
    "prepare": "husky || true",
    "setup": "node scripts/check-env.js && npm run setup:api && npm run setup:web",
    "setup:api": "cd api && poetry install",
    "setup:web": "cd web && yarn install",
    "dev": "npm run docker:up && concurrently \"npm run dev:api\" \"npm run dev:web\"",
    "dev:api": "cd api && poetry run python run.py",
    "dev:web": "cd web && yarn dev",
    "docs:dev": "cd web && yarn docs:dev",
    "docs:build": "cd web && yarn docs:build",
    "docs:preview": "cd web && yarn docs:preview",
    "docker:up": "docker-compose up -d postgres",
    "docker:down": "docker-compose down",
    "docker:restart": "docker-compose restart postgres",
    "docker:logs": "docker-compose logs -f postgres",
    "docker:clean": "docker-compose down -v",
    "db:migrate": "cd api && PYTHONPATH=src poetry run alembic -c src/core/db/migrations/alembic.ini revision --autogenerate",
    "db:upgrade": "cd api && PYTHONPATH=src poetry run alembic -c src/core/db/migrations/alembic.ini upgrade head",
    "db:downgrade": "cd api && PYTHONPATH=src poetry run alembic -c src/core/db/migrations/alembic.ini downgrade -1",
    "db:history": "cd api && PYTHONPATH=src poetry run alembic -c src/core/db/migrations/alembic.ini history",
    "db:current": "cd api && PYTHONPATH=src poetry run alembic -c src/core/db/migrations/alembic.ini current",
    "db:reset": "echo 'Not implemented yet (dangerous)'",
    "fixtures:load": "cd api && PYTHONPATH=src poetry run python manage_fixtures.py fixtures load",
    "static:download": "cd api && poetry run python scripts/download_static_files.py",
    "lint:api": "cd api && poetry run ruff check . --fix",
    "lint:web": "cd web && yarn nx run-many --target=lint --all --fix",
    "lint": "npm run lint:api && npm run lint:web"
  },
  "devDependencies": {
    "@commitlint/cli": "^20.1.0",
    "@commitlint/config-conventional": "^20.0.0",
    "concurrently": "^9.2.1",
    "cross-env": "^10.1.0",
    "husky": "^9.1.7",
    "rimraf": "^6.1.2"
  }
}
